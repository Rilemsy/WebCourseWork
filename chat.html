<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chat</title>
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/chat.css" />
  </head>
  <body>
    <div class="container">
      <h1>Чат</h1>

      <div class="chat-wrapper">
        <!-- Основная часть: сообщения и форма -->
        <main class="chat-section">
          <!-- Список сообщений -->
          <section class="messages mb-4">
            <h2 class="mb-3">Сообщения</h2>
            <ul id="message-list" class="message-cards">
              <!-- Сообщения добавляются через template -->
            </ul>
          </section>

          <!-- Форма отправки сообщения -->
          <section class="message-form">
            <h2 class="mb-3">Отправить сообщение</h2>
            <form id="message-form">
              <textarea
                name="message"
                rows="4"
                placeholder="Введите сообщение"
              ></textarea>
              <button type="submit">Отправить</button>
            </form>
          </section>
        </main>

        <!-- Список пользователей -->
        <aside class="user-list mb-4">
          <h2 class="mb-3">Пользователи</h2>
          <ul id="user-list" class="user-cards">
            <!-- Пользователи добавляются через template -->
          </ul>
        </aside>
      </div>
    </div>

    <!-- Шаблон карточки сообщения -->
    <template id="message-template">
      <li class="message-card">
        <div class="message-header">
          <span class="message-date"></span>
          <div>
            <span class="message-username"></span>
            <span class="message-role"></span>
          </div>
        </div>
        <p class="message-text"></p>
      </li>
    </template>

    <!-- Шаблон карточки пользователя -->
    <template id="user-template">
      <li class="user-card">
        <span class="user-role"></span>
        <h3 class="user-name"></h3>
      </li>
    </template>

    <script>
      // Пример данных
      const messages = [
        {
          date: '01.12.2024 14:30',
          username: 'Иван Иванов',
          role: 'Администратор',
          text: 'Добро пожаловать в наш чат!',
        },
        {
          date: '01.12.2024 14:32',
          username: 'Анна Смирнова',
          role: 'Пользователь',
          text: 'Спасибо! Рада быть здесь.',
        },
        {
          date: '01.12.2024 14:30',
          username: 'Иван Иванов',
          role: 'Администратор',
          text: 'Добро пожаловать в наш чат!',
        },
        {
          date: '01.12.2024 14:32',
          username: 'Анна Смирнова',
          role: 'Пользователь',
          text: 'Спасибо! Рада быть здесь.',
        },
        {
          date: '01.12.2024 14:30',
          username: 'Иван Иванов',
          role: 'Администратор',
          text: 'Добро пожаловать в наш чат!',
        },
        {
          date: '01.12.2024 14:32',
          username: 'Анна Смирнова',
          role: 'Пользователь',
          text: 'Спасибо! Рада быть здесь.',
        },
      ];

      const users = [
        { name: 'Иван Иванов', role: 'Администратор' },
        { name: 'Петр Петров', role: 'Модератор' },
        { name: 'Анна Смирнова', role: 'Пользователь' },
        { name: 'Иван Иванов', role: 'Администратор' },
        { name: 'Петр Петров', role: 'Модератор' },
        { name: 'Анна Смирнова', role: 'Пользователь' },
        { name: 'Иван Иванов', role: 'Администратор' },
        { name: 'Петр Петров', role: 'Модератор' },
        { name: 'Анна Смирнова', role: 'Пользователь' },
        { name: 'Иван Иванов', role: 'Администратор' },
        { name: 'Петр Петров', role: 'Модератор' },
        { name: 'Анна Смирнова', role: 'Пользователь' },
      ];

      // Рендеринг сообщений
      const messageList = document.getElementById('message-list');
      const messageTemplate = document.getElementById('message-template');
      messages.forEach(msg => {
        const clone = messageTemplate.content.cloneNode(true);
        clone.querySelector('.message-date').textContent = msg.date;
        clone.querySelector('.message-username').textContent = msg.username + ':';
        clone.querySelector('.message-role').textContent = msg.role;
        clone.querySelector('.message-text').textContent = msg.text;
        messageList.appendChild(clone);
      });

      // Рендеринг пользователей
      const userList = document.getElementById('user-list');
      const userTemplate = document.getElementById('user-template');
      users.forEach(user => {
        const clone = userTemplate.content.cloneNode(true);
        clone.querySelector('.user-name').textContent = user.name;
        clone.querySelector('.user-role').textContent = user.role;
        userList.appendChild(clone);
      });
    </script>
  </body>
</html>
